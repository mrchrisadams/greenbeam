<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <title>Greenbeam</title>
  <meta name="description"
    content="Greenbeam is a browser extension, forked from Mozilla Lightbeam, that shines a light on privacy and the sustainable web.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="images/green-square.png" type="image/x-icon">
  <link rel="icon" href="images/green-square.png" type="image/x-icon">
  <link rel="stylesheet" href="css/style.css" type="text/css">
  <script src="js/storeChild.js" type="text/javascript"></script>
  <script src="./lightbeamData.js" type="text/javascript"></script>
  <script src="ext-libs/download.js"></script>
  <script src="ext-libs/d3.min.js"></script>
  <script src="ext-libs/dialog-polyfill.js"></script>
  <script src="js/viz.js" type="text/javascript"></script>
  <script src="js/lightbeam.js" type="text/javascript"></script>
</head>

<body>
  <aside class="max-graph">
    <header>
      <h3 style="color:limegreen">GREENBEAM</h1>
        <!-- <img class="logo" role="banner" src="images/lightbeam_150x45.png"> -->
    </header>
    <nav role="navigation">
      <h2>Visualization</h2>
      <div class="toggle-menu">
        <!-- @todo add click to toggle view between graph and list, highlighting active view -->
        <button class="active graph">Graph</button>
        <button class="list unimplemented">List</button>
      </div>
      <h2>Data</h2>
      <div>
        <!-- @todo add click to save data -->
        <button class="download" id="save-data-button">Save Data</button>
        <button class="reset" id="reset-data-button">Reset Data</button>
      </div>
      <h2>Take Action</h2>
      <div class="actions-box">
        <ul>
          <li><a href="https://www.thegreenwebfoundation.org/how-to-ask-a-site-to-switch-to-using-green-power/">Ask
              sites to switch to a web host running on green power.</a></li>
          <li><a href="https://www.thegreenwebfoundation.org/news/how-to-choose-a-good-green-host/">Switch your own web
              host</a></li>
        </ul>
      </div>
      <h2>Why + How</h2>
      <div>
        <a class="why-site" href="https://planetfriendlyweb.org/why-it-matters/">IT + the Climate</a>
        <a class="greenbeam-site" href="https://www.thegreenwebfoundation.org/" target="_blank">Data Source</a>
      </div>
      <h2>Contribute</h2>
      <div class="nav-links">
        <!-- @todo confirm feedback URL -->
        <a class="thumbs-up" href="https://github.com/eveahe/greenbeam/issues" target="_blank">Feedback welcome.</a>
      </div>
    </nav>
  </aside>
  <main role="main">
    <section class="top-bar max-graph">
      <dl class="info-headings">
        <div>
          <dt>Data Gathered Since</dt>
          <dd>
            <time id="data-gathered-since" datetime=""></time>
          </dd>
        </div>
        <div>
          <dt>You Have Visited</dt>
          <dd>
            <var id="num-first-parties"></var>
          </dd>
        </div>
        <div>
          <dt>You Have Connected With</dt>
          <dd>
            <var id="num-third-parties"></var>
          </dd>
        </div>
        <div>
          <dt>Running on renewables</dt>
          <dd>
            <var id="num-green-sites"></var>
          </dd>
        </div>
      </dl>
      <!-- @todo add tracking protection and toggle functionality -->
      <div class="tracking-protection" id="tracking-protection">
        <label>Tracking Protection</label>
        <div class="toggle-switch">
          <label for="tracking-protection-control">
            <input type="checkbox" id="tracking-protection-control">
            <span class="toggle"></span>
          </label>
        </div>
      </div>
      <div class="tracking-protection" id="tracking-protection-disabled" hidden>
        <label>Tracking Protection</label>
        <div
          title="Due to technical issues this doesn't work in current Firefox. Please visit Firefox preferences to enable instead.">
          Coming back in <a href="https://www.mozilla.org/en-US/firefox/quantum/">Firefox Quantum</a>
        </div>
      </div>
      </div>
    </section>
    <section class="vis">
      <div class="vis-header max-graph">
        <!-- @todo update filter with current filter state -->
        <h1 id="filter">Recent Sites</h1>
        <!-- @todo update view with current view state -->
        <h2><span id="view">Graph</span> View</h2>
        <!-- @todo display list or graph view, update view based on filter and controls -->
        <!-- @todo remove the hard-coded width, height values -->
      </div>
      <div class="vis-controls info-panel-controls unimplemented">
        <!-- @todo check purpose of website icon -->
        <button class="info-panel website"></button>
        <!-- @todo add help sidebar -->
        <button class="info-panel help"></button>
        <!-- @todo add about sidebar -->
        <button class="info-panel about"></button>
      </div>
      <div class="vis-content" id="visualization">
        <div id="tooltip"></div>
      </div>
    </section>
    <div class="credits">
      <h2>Greenbeam is forked from Firefox Lightbeam and uses the GreenWebFoundation's data.
        With thanks also to the Prototype Fund and ClimateActionTech!</h2>
    </div>
    <footer class="unimplemented">
      <div class="footer-toggle">
        <div class="footer-heading unimplemented">
          <h2>Toggle Controls</h2>
        </div>
        <!-- @todo highlight active controls, add click to toggle controls -->
        <div class="footer-toggle-buttons controls">
          <button class="visited-sites active">Visited Sites</button>
          <button class="watched-sites two-icons active">Watched Sites</button>
          <button class="cookies active">Cookies</button>
          <button class="third-party-sites active">Third Party Sites</button>
          <button class="blocked-sites two-icons active">Blocked Sites</button>
          <button class="connections active">Connections</button>
        </div>
      </div>
      <div class="footer-filter unimplemented">
        <div class="footer-heading">
          <h2>Filter</h2>
          <!-- @todo add click for hide to toggle filter menu-->
          <h2 class="hide">Hide</h2>
        </div>
        <div class="filter-menu">
          <!-- @todo highlight active filter, add click to toggle filter -->
          <button class="active">Recent Site</button>
          <button>Last 10 Sites</button>
          <button>Daily</button>
          <button>Weekly</button>
        </div>
      </div>
    </footer>
  </main>
  <dialog id="reset-data-dialog" aria-labelledby="reset-data-dialog-title">
    <form method="dialog" class="dialog-wrapper">
      <h1 id="reset-data-dialog-title" class="dialog-title">Reset Data</h1>

      <img class="dialog-icon" src="images/lightbeam_dialog_warningreset.png" alt="">

      <div class="dialog-content">
        <p>Pressing OK will delete all Greenbeam information including connection history, user preferences, block sites
          list, etc.</p>
        <p>Your browser will be returned to the state of a fresh install of Greenbeam.</p>
      </div>

      <menu class="dialog-options">
        <button type="submit" value="" autofocus>Cancel</button>
        <button type="submit" value="confirm">OK</button>
      </menu>
    </form>
  </dialog>
</body>

</html>